{
  "variables": {
    "esxi_host": "",
    "esxi_username": "root",
    "esxi_password": "",
    "packer_datastore": "datastore1"
  },
  "builders": [{

    "_comment_iso": "ISO image and boot setup",
    "type": "vmware-iso",
    "iso_url": "http://ct.mirror.garr.it/mirrors/CentOS/7/isos/x86_64/CentOS-7-x86_64-Minimal-1511.iso",
    "iso_checksum": "f90e4d28fa377669b2db16cbcb451fcb9a89d2460e3645993e30e137ac37d284",
    "iso_checksum_type": "sha256",
    "ssh_username": "packer",
    "shutdown_command": "shutdown -P now",

    "_comment_vm": "VM configuration",
    "vm_name": "datacenter-centos",
    "guest_os_type": "",
    "vmdk_name": "datacenter-centos",
    "vmx_data": {
      "memsize": "2048",
      "numvcpus": "2",
      "cpuid.coresPerSocket": "2",
    },

    "_comment_esxi": "ESXI connection configuration",
    "remote_type": "esx5",
    "remote_host": "{{ user `esxi_host` }}",
    "remote_username": "{{ user `esxi_username` }}",
    "remote_password": "{{ user `esxi_password` }}",
    "remote_datastore": "{{ user `packer_datastore` }}"

  }]
}
